<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AstroPowerBox</title>
  <link href="/static/bootstrap-5.3.3-dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="/static/bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/app.js"></script>

</head>

<body>
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">AstroPowerBox</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0 nav-tabs" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" href="#" data-bs-toggle="tab" data-bs-target="#main-pane">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" data-bs-toggle="tab" data-bs-target="#wifi-pane">Wifi</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/update">Update</a>
          </li>
      </div>
    </div>
  </nav>
  <div class="tab-content" id="main-content">
    <div class="tab-pane fade show active" id="main-pane" tabindex="0">
      <div class="container">
        <h2>Environment</h2>
        <table class="table">
          <tbody>
            <tr>
              <th scope="row">Temperature</th>
              <td id="ambient_temperature">N/A</td>
            </tr>
            <tr>
              <th scope="row">Humidity</th>
              <td id="ambient_humidity">N/A</td>
            </tr>
            <tr>
              <th scope="row">Dewpoint</th>
              <td id="ambient_dewpoint">N/A</td>
            </tr>
          </tbody>
        </table>

        <hr />
        <H2>Heaters</H2>
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">mode</th>
              <th scope="col">target</th>
              <th scope="col">duty</th>
              <th scope="col">temperature</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="heaters_tbody">
            <tr>
              <th scope="row">1</th>
              <td id="heaters_1_mode">N/A</td>
              <td id="heaters_1_target">N/A</td>
              <td>
                <span id="heaters_1_active" class="badge text-bg-secondary">‚ùå</span>
                <span id="heaters_1_duty">N/A </span>
              </td>
              <td id="heaters_1_temperature">N/A</td>
              <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#setHeaterModal"
                  data-bs-index="0">set</button></td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td id="heaters_2_mode">N/A</td>
              <td id="heaters_2_target">N/A</td>
              <td>
                <span id="heaters_2_active" class="badge text-bg-secondary">‚ùå</span>
                <span id="heaters_2_duty">N/A </span>
              </td>
              <td id="heaters_2_temperature">N/A</td>
              <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#setHeaterModal"
                  data-bs-index="1">set</button></td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td id="heaters_3_mode">N/A</td>
              <td id="heaters_3_target">N/A</td>
              <td>
                <span id="heaters_3_active" class="badge text-bg-secondary">‚ùå</span>
                <span id="heaters_3_duty">N/A </span>
              </td>
              <td id="heaters_3_temperature">N/A</td>
              <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#setHeaterModal"
                  data-bs-index="2">set</button></td>
            </tr>

          </tbody>
        </table>

        <div class="modal fade" id="setHeaterModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="setHeaterModalTitle">Set Heater</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="mb-3">
                    <label for="setHeaterModal_mode" class="form-label">Mode</label>
                    <select class="form-select" id="setHeaterModal_mode">
                      <option value="off">Off</option>
                      <option value="fixed">Fixed</option>
                      <option value="target_temperature">Set to Target Temperature</option>
                      <option value="dewpoint">Set to Dewpoint</option>
                    </select>
                  </div>

                  <div class="mb-3" id="setHeaterModal_duty_container" class="collapse">
                    <label for="setHeaterModal_duty" class="form-label">Duty</label>
                    <span class="badge text-bg-secondary float-end" id="setHeaterModal_duty_valueLabel"></span>
                    <input type="range" class="form-range" id="setHeaterModal_duty" min="0" max="100" steps="0.5">
                  </div>

                  <div class="mb-3" id="setHeaterModal_target_temperature_container" class="collapse">
                    <label for="setHeaterModal_target_temperature" class="form-label">Target Temperature</label>
                    <span class="badge text-bg-secondary float-end"
                      id="setHeaterModal_target_temperature_valueLabel"></span>
                    <input type="range" class="form-range" id="setHeaterModal_target_temperature" min="0" max="50"
                      steps="0.5">
                  </div>

                  <div class="mb-3" id="setHeaterModal_dewpoint_container" class="collapse">
                    <label for="setHeaterModal_dewpoint_offset" class="form-label">Dewpoint offset</label>
                    <span class="badge text-bg-secondary float-end"
                      id="setHeaterModal_dewpoint_offset_valueLabel"></span>
                    <input type="range" class="form-range" id="setHeaterModal_dewpoint_offset" min="-20" max="20"
                      steps="0.5">
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="setHeaterModal_apply">Apply</button>
              </div>
            </div>
          </div>
        </div>


        <H2>Power</H2>

        <table class="table">
          <tbody>
            <tr>
              <th scope="row">Voltage</th>
              <td id="power_voltage">N/A</td>
            </tr>
            <tr>
              <th scope="row">Current</th>
              <td id="power_current">N/A</td>
            </tr>
            <tr>
              <th scope="row">Power</th>
              <td id="power_watts">N/A</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="tab-pane fade show" id="wifi-pane" tabindex="0">
      <div class="container">
        <form>
            <label for="wifi_host_essid" class="form-label">WiFi Host ESSID</label>
            <input type="text" class="form-control" id="wifi_host_essid">
            <label for="wifi_host_psk" class="form-label">PSK</label>
            <div class="input-group mb-3">
              <input type="password" class="form-control" id="wifi_host_psk">
              <button class="btn btn-outline-secondary toggle-password-button" data-bs-target="wifi_host_psk" type="button">üëÅ</button>
            </div>

            <hr />
            <label for="wifi_station_1_essid" class="form-label">WiFi Station 1 ESSID</label>
            <input type="text" class="form-control" id="wifi_station_1_essid">
            <label for="wifi_host_psk" class="form-label">PSK</label>
            <div class="input-group mb-3">
              <input type="password" class="form-control" id="wifi_station_1_psk">
              <button class="btn btn-outline-secondary toggle-password-button" data-bs-target="wifi_station_1_psk" type="button">üëÅ</button>
            </div>
 
            <label for="wifi_station_2_essid" class="form-label">WiFi Station 2 ESSID</label>
            <input type="text" class="form-control" id="wifi_station_2_essid">
            <label for="wifi_host_psk" class="form-label">PSK</label>
            <div class="input-group mb-3">
              <input type="password" class="form-control" id="wifi_station_2_psk">
              <button class="btn btn-outline-secondary toggle-password-button" data-bs-target="wifi_station_2_psk" type="button">üëÅ</button>
            </div>
 
        </form>
      </div>
    </div>
  </div>
</body>
</html>